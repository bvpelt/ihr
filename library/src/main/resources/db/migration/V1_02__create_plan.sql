-- table plan
create table plan
(
    id                         bigint not null primary key,
    identificatie              text   not null,
    plantype                   text   not null,
    beleidsmatigeoverheid_id   bigint,
    publicerendeoverheid_id    bigint,
    naam                       text,
    planstatus_id              bigint,
    verwijzingnaarvaststelling text,
    verwijzingnaargml          text,
    besluitnummer              text,
    regelstatus                text,
    dossierid                  text,
    dossierstatus              text,
    isparapluplan              boolean,
    beroepenbezwaar            text,
    ishistorisch               boolean,
    verwijderdop               timestamp,
    istamplan                  boolean,
    einderechtsgeldigheid      date,
    md5hash                    text not null,
    bboxmd5hash                text not null
);

create unique index plan_identificatie_idx on plan (identificatie);

create index plan_naam_idx on plan (naam);

create index plan_dossier_idx on plan (dossierid);

create index plan_besluitnummer_idx on plan (besluitnummer);

create index plan_md5hash_idx on plan (md5hash);

create index plan_bboxd5hash_idx on plan (bboxmd5hash);

ALTER TABLE plan
    OWNER TO testuser;

ALTER TABLE plan
    ALTER
        COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
        SEQUENCE NAME plan_id_seq
        START WITH 1
        INCREMENT BY 1
        NO MINVALUE
        NO MAXVALUE
        CACHE 1
        );
